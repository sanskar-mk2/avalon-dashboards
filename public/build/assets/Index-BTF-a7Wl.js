import{j as n,r as h,c as v,o as x,w as m,b as i,a as u,u as c,l as y,d as w}from"./app-B2GYkFaq.js";import{_ as j}from"./PageLayout-BfcLYb3H.js";import{_}from"./DataTable-BxI1Z1Mb.js";import{_ as S}from"./DeleteModal-GF8Ez0iw.js";import"./dayjs.min-CrmqBdOv.js";import{g as $}from"./salesColumns-BKea7FqV.js";import"./AuthenticatedLayout-CEqU46G6.js";import"./ApplicationLogo-DujZ5ZH6.js";import"./MonthYearSelector-BtkA9Y2o.js";import"./Breadcrumbs-CQuI2wmL.js";const g={class:"flex justify-end gap-2 sm:gap-4 mb-4"},U={__name:"Index",props:{sales:{type:Object,default:()=>({})},availableMonths:{type:Array,default:()=>[]},currentMonth:{type:String,required:!0},filters:{type:Object,default:()=>({})}},setup(l){const s=l,a=n(()=>!s.filters||typeof s.filters!="object"||!Object.prototype.hasOwnProperty.call(s.filters,"filter")||typeof s.filters.filter!="object"?null:s.filters.filter),o=h(!1),f=$(),b=n(()=>{const t=[{label:"Home",route:"dashboard"}];if(a.value){t.push({label:"Sales",route:"sales.index"});let e="";Object.entries(a.value).forEach(([r,p])=>{e+=`${r.charAt(0).toUpperCase()+r.slice(1)}(${p}), `}),t.push({label:e.slice(0,-2)})}else t.push({label:"Sales"});return t}),d=n(()=>!a.value);return(t,e)=>(x(),v(j,{title:"Sales",breadcrumbs:b.value,"available-months":l.availableMonths,"current-month":l.currentMonth,"show-month-selector":d.value},{default:m(()=>[i("div",g,[u(c(y),{href:t.route("sales.create"),class:"btn btn-primary btn-sm sm:btn-md text-xs sm:text-sm"},{default:m(()=>[...e[2]||(e[2]=[w(" Upload CSV ",-1)])]),_:1},8,["href"]),i("button",{onClick:e[0]||(e[0]=r=>o.value=!0),class:"btn btn-error btn-sm sm:btn-md text-xs sm:text-sm"}," Delete All ")]),u(_,{data:l.sales,columns:c(f)},null,8,["data","columns"]),u(S,{show:o.value,message:"Are you sure you want to delete all sales records? This action cannot be undone.","delete-route":"sales.deleteAll",onClose:e[1]||(e[1]=r=>o.value=!1)},null,8,["show"])]),_:1},8,["breadcrumbs","available-months","current-month","show-month-selector"]))}};export{U as default};
